<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Seed Demo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        /* background-color: #212529; */
        /* color: #f8f9fa; */
        background-color: #fff;
        color: #212529;
      }

      .fade-in {
        opacity: 0;
        animation: fadeIn 1s forwards;
      }
      @keyframes fadeIn {
        to {
          opacity: 1;
        }
      }
      .scroll-box {
        height: 450px;
        overflow-y: auto;
        padding: 0 1rem;
      }
      .centered-text {
        font-size: 2rem;
      }
      .max-600 {
        max-width: 360px;
        margin: 0 auto;
      }
      .max-400 {
        max-width: 360px;
        margin: 0 auto;
      }
      .max-300 {
        max-width: 300px;
        margin: 0 auto;
      }

      .bg-light,
      .table-light {
        /* background-color: #2d2d2d !important; */
        background-color: #fff !important;
      }
      .fade-out {
        animation: fadeOut 1s forwards;
      }
      @keyframes fadeOut {
        to {
          opacity: 0;
          transform: scale(0.95);
        }
      }

      .bg-green {
        background-color: green !important;
      }
      .bg-light {
        background-color: white !important;
      }
      .green {
        color: green !important;
      }
      .zoom-in {
        opacity: 0;
        transform: scale(0.8);
        animation: zoomIn 0.5s forwards;
      }

      @keyframes zoomIn {
        to {
          opacity: 1;
          transform: scale(1);
        }
      }
      .password-line {
        font-family: monospace;
        white-space: pre;
        text-align: center;
        display: block;
        min-width: 20ch;
      }
      .flip-card {
        perspective: 1000px;
        width: 100%;
        margin-bottom: 2px; /* tighter spacing */
        height: 2.5rem; /* reduced height */
      }

      .flip-card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        transition: transform 0.6s;
        transform-style: preserve-3d;
      }

      .flip-card.flipped .flip-card-inner {
        transform: rotateX(180deg); /* vertical flip */
      }

      .flip-card-front,
      .flip-card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        padding: 0.5rem 1rem;
        border-radius: 0.375rem;
        backface-visibility: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1rem;
        font-weight: 500;
        border: 1px solid #e7e7e7;
      }

      .flip-card-front {
        background-color: #cdcccc;
        color: green;
      }

      .flip-card-back {
        background-color: green;
        color: white;
        transform: rotateX(180deg);
      }

      #password-stars {
        letter-spacing: 0.2em;
      }
      .list-style {
        font-size: 1rem;
        font-weight: 500;
        padding: 0.5rem 1rem;
        border: 1px solid #e7e7e7;
        background-color: green;
        color: #212529;
        border-radius: 0.375rem;
        margin-bottom: 0.5rem;
      }
      #applet-wrapper {
        padding-top: 0;
        margin-top: 0;
      }
      .large {
        width: 100px;
        height: 40px;
      }
      .bold {
        font-weight: bold;
      }
      .bigger {
        /* 125% bigger */
        font-size: 125%;
      }

      @keyframes subtle-pulse {
        0% {
          transform: translate(-50%, -95%) scale(1);
          opacity: 1;
        }
        50% {
          transform: translate(-50%, -96%) scale(1.01);
          opacity: 1;
        }
        100% {
          transform: translate(-50%, -95%) scale(1);
          opacity: 1;
        }
      }
      .throb-image {
        position: absolute;

        top: 77%;
        left: 50%;
        transform: translate(-50%, -96%);
        opacity: 1;
        animation: subtle-pulse 2.5s ease-in-out infinite;
      }
      .titillium-web-regular {
        font-family: "Titillium Web", sans-serif;
        font-weight: 400;
        font-style: normal;
      }
      .ul-frame-11 {
        list-style-type: none;
        padding-left: 40px !important;
      }
      .ul-frame-11 li {
        padding: 8px;
      }
      .shift-up-20 {
        display: block;
        position: relative;
        top: -20px;
        margin: auto;
      }

      table {
        border: none !important;
        margin-top: 15px;
        background-color: white !important;
      }
      tr,
      td,
      th {
        border: none !important;
        background-color: white !important;
      }
      @media (min-width: 0px) and (max-width: 579.98px) {
        #nxt-btn {
          position: relative;
          top: -10px;
        }
        .equation-wrapper {
          max-width: 160px;
          font-size: 1.2rem;
          margin: auto;
          text-align: center;
        }
      }
      .pos-left {
        position: relative;
        left: -20px;
      }
      .frame-headline {
        font-size: 1.5rem;
        font-weight: 600;
        color: #212529;
        padding-top: 10px;
      }
    </style>
  </head>
  <body>
    <div id="applet-wrapper" class="container pb-1">
      <div id="demo-container" class="text-center"></div>
      <div class="text-center mt-3">
        <button id="next-btn" class="btn btn-primary">Next</button>
      </div>
    </div>

    <script>
      let currentFrame = 0;
      const container = document.getElementById("demo-container");
      const displayArea = document.createElement("div");
      let mappedSeed;
      const nextBtn = document.getElementById("next-btn");
      var mapCaption = document.createElement("p");
      const seedWords = [
        "forward",
        "season",
        "obvious",
        "light",
        "arrow",
        "thing",
        "kite",
        "glimpse",
        "over",
        "wrap",
        "client",
        "dance",
      ];

      // Full official BIP39 English word list (first 50 shown, rest truncated for brevity)
      const bip39Words = [
        "abandon",
        "ability",
        "able",
        "about",
        "above",
        "absent",
        "absorb",
        "abstract",
        "absurd",
        "abuse",
        "access",
        "accident",
        "account",
        "accuse",
        "achieve",
        "acid",
        "acoustic",
        "acquire",
        "across",
        "act",
        "action",
        "actor",
        "actress",
        "actual",
        "adapt",
        "add",
        "addict",
        "address",
        "adjust",
        "admit",
        "adult",
        "advance",
        "advice",
        "aerobic",
        "affair",
        "afford",
        "afraid",
        "again",
        "age",
        "agent",
        "agree",
        "ahead",
        "aim",
        "air",
        "airport",
        "aisle",
        "alarm",
        "album",
        "alcohol",
        "alert",
        "alien",
        "all",
        "alley",
        "allow",
        "almost",
        "alone",
        "alpha",
        "already",
        "also",
        "alter",
        "always",
        "amateur",
        "amazing",
        "among",
        "amount",
        "amused",
        "analyst",
        "anchor",
        "ancient",
        "anger",
        "angle",
        "angry",
        "animal",
        "ankle",
        "announce",
        "annual",
        "another",
        "answer",
        "antenna",
        "antique",
        "anxiety",
        "any",
        "apart",
        "apology",
        "appear",
        "apple",
        "approve",
        "april",
        "arch",
        "arctic",
        "area",
        "arena",
        "argue",
        "arm",
        "armed",
        "armor",
        "army",
        "around",
        "arrange",
        "arrest",
        "arrive",
        "arrow",
        "art",
        "artefact",
        "artist",
        "artwork",
        "ask",
        "aspect",
        "assault",
        "asset",
        "assist",
        "assume",
        "asthma",
        "athlete",
        "atom",
        "attack",
        "attend",
        "attitude",
        "attract",
        "auction",
        "audit",
        "august",
        "aunt",
        "author",
        "auto",
        "autumn",
        "average",
        "avocado",
        "avoid",
        "awake",
        "aware",
        "away",
        "awesome",
        "awful",
        "awkward",
        "axis",
        "baby",
        "bachelor",
        "bacon",
        "badge",
        "bag",
        "balance",
        "balcony",
        "ball",
        "bamboo",
        "banana",
        "banner",
        "bar",
        "barely",
        "bargain",
        "barrel",
        "base",
        "basic",
        "basket",
        "battle",
        "beach",
        "bean",
        "beauty",
        "because",
        "become",
        "beef",
        "before",
        "begin",
        "behave",
        "behind",
        "believe",
        "below",
        "belt",
        "bench",
        "benefit",
        "best",
        "betray",
        "better",
        "between",
        "beyond",
        "bicycle",
        "bid",
        "bike",
        "bind",
        "biology",
        "bird",
        "birth",
        "bitter",
        "black",
        "blade",
        "blame",
        "blanket",
        "blast",
        "bleak",
        "bless",
        "blind",
        "blood",
        "blossom",
        "blouse",
        "blue",
        "blur",
        "blush",
        "board",
        "boat",
        "body",
        "boil",
        "bomb",
        "bone",
        "bonus",
        "book",
        "boost",
        "border",
        "boring",
        "borrow",
        "boss",
        "bottom",
        "bounce",
        "box",
        "boy",
        "bracket",
        "brain",
        "brand",
        "brass",
        "brave",
        "bread",
        "breeze",
        "brick",
        "bridge",
        "brief",
        "bright",
        "bring",
        "brisk",
        "broccoli",
        "broken",
        "bronze",
        "broom",
        "brother",
        "brown",
        "brush",
        "bubble",
        "buddy",
        "budget",
        "buffalo",
        "build",
        "bulb",
        "bulk",
        "bullet",
        "bundle",
        "bunker",
        "burden",
        "burger",
        "burst",
        "bus",
        "business",
        "busy",
        "butter",
        "buyer",
        "buzz",
        "cabbage",
        "cabin",
        "cable",
        "cactus",
        "cage",
        "cake",
        "call",
        "calm",
        "camera",
        "camp",
        "can",
        "canal",
        "cancel",
        "candy",
        "cannon",
        "canoe",
        "canvas",
        "canyon",
        "capable",
        "capital",
        "captain",
        "car",
        "carbon",
        "card",
        "cargo",
        "carpet",
        "carry",
        "cart",
        "case",
        "cash",
        "casino",
        "castle",
        "casual",
        "cat",
        "catalog",
        "catch",
        "category",
        "cattle",
        "caught",
        "cause",
        "caution",
        "cave",
        "ceiling",
        "celery",
        "cement",
        "census",
        "century",
        "cereal",
        "certain",
        "chair",
        "chalk",
        "champion",
        "change",
        "chaos",
        "chapter",
        "charge",
        "chase",
        "chat",
        "cheap",
        "check",
        "cheese",
        "chef",
        "cherry",
        "chest",
        "chicken",
        "chief",
        "child",
        "chimney",
        "choice",
        "choose",
        "chronic",
        "chuckle",
        "chunk",
        "churn",
        "cigar",
        "cinnamon",
        "circle",
        "citizen",
        "city",
        "civil",
        "claim",
        "clap",
        "clarify",
        "claw",
        "clay",
        "clean",
        "clerk",
        "clever",
        "click",
        "client",
        "cliff",
        "climb",
        "clinic",
        "clip",
        "clock",
        "clog",
        "close",
        "cloth",
        "cloud",
        "clown",
        "club",
        "clump",
        "cluster",
        "clutch",
        "coach",
        "coast",
        "coconut",
        "code",
        "coffee",
        "coil",
        "coin",
        "collect",
        "color",
        "column",
        "combine",
        "come",
        "comfort",
        "comic",
        "common",
        "company",
        "concert",
        "conduct",
        "confirm",
        "congress",
        "connect",
        "consider",
        "control",
        "convince",
        "cook",
        "cool",
        "copper",
        "copy",
        "coral",
        "core",
        "corn",
        "correct",
        "cost",
        "cotton",
        "couch",
        "country",
        "couple",
        "course",
        "cousin",
        "cover",
        "coyote",
        "crack",
        "cradle",
        "craft",
        "cram",
        "crane",
        "crash",
        "crater",
        "crawl",
        "crazy",
        "cream",
        "credit",
        "creek",
        "crew",
        "cricket",
        "crime",
        "crisp",
        "critic",
        "crop",
        "cross",
        "crouch",
        "crowd",
        "crucial",
        "cruel",
        "cruise",
        "crumble",
        "crunch",
        "crush",
        "cry",
        "crystal",
        "cube",
        "culture",
        "cup",
        "cupboard",
        "curious",
        "current",
        "curtain",
        "curve",
        "cushion",
        "custom",
        "cute",
        "cycle",
        "dad",
        "damage",
        "damp",
        "dance",
        "danger",
        "daring",
        "dash",
        "daughter",
        "dawn",
        "day",
        "deal",
        "debate",
        "debris",
        "decade",
        "december",
        "decide",
        "decline",
        "decorate",
        "decrease",
        "deer",
        "defense",
        "define",
        "defy",
        "degree",
        "delay",
        "deliver",
        "demand",
        "demise",
        "denial",
        "dentist",
        "deny",
        "depart",
        "depend",
        "deposit",
        "depth",
        "deputy",
        "derive",
        "describe",
        "desert",
        "design",
        "desk",
        "despair",
        "destroy",
        "detail",
        "detect",
        "develop",
        "device",
        "devote",
        "diagram",
        "dial",
        "diamond",
        "diary",
        "dice",
        "diesel",
        "diet",
        "differ",
        "digital",
        "dignity",
        "dilemma",
        "dinner",
        "dinosaur",
        "direct",
        "dirt",
        "disagree",
        "discover",
        "disease",
        "dish",
        "dismiss",
        "disorder",
        "display",
        "distance",
        "divert",
        "divide",
        "divorce",
        "dizzy",
        "doctor",
        "document",
        "dog",
        "doll",
        "dolphin",
        "domain",
        "donate",
        "donkey",
        "donor",
        "door",
        "dose",
        "double",
        "dove",
        "draft",
        "dragon",
        "drama",
        "drastic",
        "draw",
        "dream",
        "dress",
        "drift",
        "drill",
        "drink",
        "drip",
        "drive",
        "drop",
        "drum",
        "dry",
        "duck",
        "dumb",
        "dune",
        "during",
        "dust",
        "dutch",
        "duty",
        "dwarf",
        "dynamic",
        "eager",
        "eagle",
        "early",
        "earn",
        "earth",
        "easily",
        "east",
        "easy",
        "echo",
        "ecology",
        "economy",
        "edge",
        "edit",
        "educate",
        "effort",
        "egg",
        "eight",
        "either",
        "elbow",
        "elder",
        "electric",
        "elegant",
        "element",
        "elephant",
        "elevator",
        "elite",
        "else",
        "embark",
        "embody",
        "embrace",
        "emerge",
        "emotion",
        "employ",
        "empower",
        "empty",
        "enable",
        "enact",
        "end",
        "endless",
        "endorse",
        "enemy",
        "energy",
        "enforce",
        "engage",
        "engine",
        "enhance",
        "enjoy",
        "enlist",
        "enough",
        "enrich",
        "enroll",
        "ensure",
        "enter",
        "entire",
        "entry",
        "envelope",
        "episode",
        "equal",
        "equip",
        "era",
        "erase",
        "erode",
        "erosion",
        "error",
        "erupt",
        "escape",
        "essay",
        "essence",
        "estate",
        "eternal",
        "ethics",
        "evidence",
        "evil",
        "evoke",
        "evolve",
        "exact",
        "example",
        "excess",
        "exchange",
        "excite",
        "exclude",
        "excuse",
        "execute",
        "exercise",
        "exhaust",
        "exhibit",
        "exile",
        "exist",
        "exit",
        "exotic",
        "expand",
        "expect",
        "expire",
        "explain",
        "expose",
        "express",
        "extend",
        "extra",
        "eye",
        "eyebrow",
        "fabric",
        "face",
        "faculty",
        "fade",
        "faint",
        "faith",
        "fall",
        "false",
        "fame",
        "family",
        "famous",
        "fan",
        "fancy",
        "fantasy",
        "farm",
        "fashion",
        "fat",
        "fatal",
        "father",
        "fatigue",
        "fault",
        "favorite",
        "feature",
        "february",
        "federal",
        "fee",
        "feed",
        "feel",
        "female",
        "fence",
        "festival",
        "fetch",
        "fever",
        "few",
        "fiber",
        "fiction",
        "field",
        "figure",
        "file",
        "film",
        "filter",
        "final",
        "find",
        "fine",
        "finger",
        "finish",
        "fire",
        "firm",
        "first",
        "fiscal",
        "fish",
        "fit",
        "fitness",
        "fix",
        "flag",
        "flame",
        "flash",
        "flat",
        "flavor",
        "flee",
        "flight",
        "flip",
        "float",
        "flock",
        "floor",
        "flower",
        "fluid",
        "flush",
        "fly",
        "foam",
        "focus",
        "fog",
        "foil",
        "fold",
        "follow",
        "food",
        "foot",
        "force",
        "forest",
        "forget",
        "fork",
        "fortune",
        "forum",
        "forward",
        "fossil",
        "foster",
        "found",
        "fox",
        "fragile",
        "frame",
        "frequent",
        "fresh",
        "friend",
        "fringe",
        "frog",
        "front",
        "frost",
        "frown",
        "frozen",
        "fruit",
        "fuel",
        "fun",
        "funny",
        "furnace",
        "fury",
        "future",
        "gadget",
        "gain",
        "galaxy",
        "gallery",
        "game",
        "gap",
        "garage",
        "garbage",
        "garden",
        "garlic",
        "garment",
        "gas",
        "gasp",
        "gate",
        "gather",
        "gauge",
        "gaze",
        "general",
        "genius",
        "genre",
        "gentle",
        "genuine",
        "gesture",
        "ghost",
        "giant",
        "gift",
        "giggle",
        "ginger",
        "giraffe",
        "girl",
        "give",
        "glad",
        "glance",
        "glare",
        "glass",
        "glide",
        "glimpse",
        "globe",
        "gloom",
        "glory",
        "glove",
        "glow",
        "glue",
        "goat",
        "goddess",
        "gold",
        "good",
        "goose",
        "gorilla",
        "gospel",
        "gossip",
        "govern",
        "gown",
        "grab",
        "grace",
        "grain",
        "grant",
        "grape",
        "grass",
        "gravity",
        "great",
        "green",
        "grid",
        "grief",
        "grit",
        "grocery",
        "group",
        "grow",
        "grunt",
        "guard",
        "guess",
        "guide",
        "guilt",
        "guitar",
        "gun",
        "gym",
        "habit",
        "hair",
        "half",
        "hammer",
        "hamster",
        "hand",
        "happy",
        "harbor",
        "hard",
        "harsh",
        "harvest",
        "hat",
        "have",
        "hawk",
        "hazard",
        "head",
        "health",
        "heart",
        "heavy",
        "hedgehog",
        "height",
        "hello",
        "helmet",
        "help",
        "hen",
        "hero",
        "hidden",
        "high",
        "hill",
        "hint",
        "hip",
        "hire",
        "history",
        "hobby",
        "hockey",
        "hold",
        "hole",
        "holiday",
        "hollow",
        "home",
        "honey",
        "hood",
        "hope",
        "horn",
        "horror",
        "horse",
        "hospital",
        "host",
        "hotel",
        "hour",
        "hover",
        "hub",
        "huge",
        "human",
        "humble",
        "humor",
        "hundred",
        "hungry",
        "hunt",
        "hurdle",
        "hurry",
        "hurt",
        "husband",
        "hybrid",
        "ice",
        "icon",
        "idea",
        "identify",
        "idle",
        "ignore",
        "ill",
        "illegal",
        "illness",
        "image",
        "imitate",
        "immense",
        "immune",
        "impact",
        "impose",
        "improve",
        "impulse",
        "inch",
        "include",
        "income",
        "increase",
        "index",
        "indicate",
        "indoor",
        "industry",
        "infant",
        "inflict",
        "inform",
        "inhale",
        "inherit",
        "initial",
        "inject",
        "injury",
        "inmate",
        "inner",
        "innocent",
        "input",
        "inquiry",
        "insane",
        "insect",
        "inside",
        "inspire",
        "install",
        "intact",
        "interest",
        "into",
        "invest",
        "invite",
        "involve",
        "iron",
        "island",
        "isolate",
        "issue",
        "item",
        "ivory",
        "jacket",
        "jaguar",
        "jar",
        "jazz",
        "jealous",
        "jeans",
        "jelly",
        "jewel",
        "job",
        "join",
        "joke",
        "journey",
        "joy",
        "judge",
        "juice",
        "jump",
        "jungle",
        "junior",
        "junk",
        "just",
        "kangaroo",
        "keen",
        "keep",
        "ketchup",
        "key",
        "kick",
        "kid",
        "kidney",
        "kind",
        "kingdom",
        "kiss",
        "kit",
        "kitchen",
        "kite",
        "kitten",
        "kiwi",
        "knee",
        "knife",
        "knock",
        "know",
        "lab",
        "label",
        "labor",
        "ladder",
        "lady",
        "lake",
        "lamp",
        "language",
        "laptop",
        "large",
        "later",
        "latin",
        "laugh",
        "laundry",
        "lava",
        "law",
        "lawn",
        "lawsuit",
        "layer",
        "lazy",
        "leader",
        "leaf",
        "learn",
        "leave",
        "lecture",
        "left",
        "leg",
        "legal",
        "legend",
        "leisure",
        "lemon",
        "lend",
        "length",
        "lens",
        "leopard",
        "lesson",
        "letter",
        "level",
        "liar",
        "liberty",
        "library",
        "license",
        "life",
        "lift",
        "light",
        "like",
        "limb",
        "limit",
        "link",
        "lion",
        "liquid",
        "list",
        "little",
        "live",
        "lizard",
        "load",
        "loan",
        "lobster",
        "local",
        "lock",
        "logic",
        "lonely",
        "long",
        "loop",
        "lottery",
        "loud",
        "lounge",
        "love",
        "loyal",
        "lucky",
        "luggage",
        "lumber",
        "lunar",
        "lunch",
        "luxury",
        "lyrics",
        "machine",
        "mad",
        "magic",
        "magnet",
        "maid",
        "mail",
        "main",
        "major",
        "make",
        "mammal",
        "man",
        "manage",
        "mandate",
        "mango",
        "mansion",
        "manual",
        "maple",
        "marble",
        "march",
        "margin",
        "marine",
        "market",
        "marriage",
        "mask",
        "mass",
        "master",
        "match",
        "material",
        "math",
        "matrix",
        "matter",
        "maximum",
        "maze",
        "meadow",
        "mean",
        "measure",
        "meat",
        "mechanic",
        "medal",
        "media",
        "melody",
        "melt",
        "member",
        "memory",
        "mention",
        "menu",
        "mercy",
        "merge",
        "merit",
        "merry",
        "mesh",
        "message",
        "metal",
        "method",
        "middle",
        "midnight",
        "milk",
        "million",
        "mimic",
        "mind",
        "minimum",
        "minor",
        "minute",
        "miracle",
        "mirror",
        "misery",
        "miss",
        "mistake",
        "mix",
        "mixed",
        "mixture",
        "mobile",
        "model",
        "modify",
        "mom",
        "moment",
        "monitor",
        "monkey",
        "monster",
        "month",
        "moon",
        "moral",
        "more",
        "morning",
        "mosquito",
        "mother",
        "motion",
        "motor",
        "mountain",
        "mouse",
        "move",
        "movie",
        "much",
        "muffin",
        "mule",
        "multiply",
        "muscle",
        "museum",
        "mushroom",
        "music",
        "must",
        "mutual",
        "myself",
        "mystery",
        "myth",
        "naive",
        "name",
        "napkin",
        "narrow",
        "nasty",
        "nation",
        "nature",
        "near",
        "neck",
        "need",
        "negative",
        "neglect",
        "neither",
        "nephew",
        "nerve",
        "nest",
        "net",
        "network",
        "neutral",
        "never",
        "news",
        "next",
        "nice",
        "night",
        "noble",
        "noise",
        "nominee",
        "noodle",
        "normal",
        "north",
        "nose",
        "notable",
        "note",
        "nothing",
        "notice",
        "novel",
        "now",
        "nuclear",
        "number",
        "nurse",
        "nut",
        "oak",
        "obey",
        "object",
        "oblige",
        "obscure",
        "observe",
        "obtain",
        "obvious",
        "occur",
        "ocean",
        "october",
        "odor",
        "off",
        "offer",
        "office",
        "often",
        "oil",
        "okay",
        "old",
        "olive",
        "olympic",
        "omit",
        "once",
        "one",
        "onion",
        "online",
        "only",
        "open",
        "opera",
        "opinion",
        "oppose",
        "option",
        "orange",
        "orbit",
        "orchard",
        "order",
        "ordinary",
        "organ",
        "orient",
        "original",
        "orphan",
        "ostrich",
        "other",
        "outdoor",
        "outer",
        "output",
        "outside",
        "oval",
        "oven",
        "over",
        "own",
        "owner",
        "oxygen",
        "oyster",
        "ozone",
        "pact",
        "paddle",
        "page",
        "pair",
        "palace",
        "palm",
        "panda",
        "panel",
        "panic",
        "panther",
        "paper",
        "parade",
        "parent",
        "park",
        "parrot",
        "party",
        "pass",
        "patch",
        "path",
        "patient",
        "patrol",
        "pattern",
        "pause",
        "pave",
        "payment",
        "peace",
        "peanut",
        "pear",
        "peasant",
        "pelican",
        "pen",
        "penalty",
        "pencil",
        "people",
        "pepper",
        "perfect",
        "permit",
        "person",
        "pet",
        "phone",
        "photo",
        "phrase",
        "physical",
        "piano",
        "picnic",
        "picture",
        "piece",
        "pig",
        "pigeon",
        "pill",
        "pilot",
        "pink",
        "pioneer",
        "pipe",
        "pistol",
        "pitch",
        "pizza",
        "place",
        "planet",
        "plastic",
        "plate",
        "play",
        "please",
        "pledge",
        "pluck",
        "plug",
        "plunge",
        "poem",
        "poet",
        "point",
        "polar",
        "pole",
        "police",
        "pond",
        "pony",
        "pool",
        "popular",
        "portion",
        "position",
        "possible",
        "post",
        "potato",
        "pottery",
        "poverty",
        "powder",
        "power",
        "practice",
        "praise",
        "predict",
        "prefer",
        "prepare",
        "present",
        "pretty",
        "prevent",
        "price",
        "pride",
        "primary",
        "print",
        "priority",
        "prison",
        "private",
        "prize",
        "problem",
        "process",
        "produce",
        "profit",
        "program",
        "project",
        "promote",
        "proof",
        "property",
        "prosper",
        "protect",
        "proud",
        "provide",
        "public",
        "pudding",
        "pull",
        "pulp",
        "pulse",
        "pumpkin",
        "punch",
        "pupil",
        "puppy",
        "purchase",
        "purity",
        "purpose",
        "purse",
        "push",
        "put",
        "puzzle",
        "pyramid",
        "quality",
        "quantum",
        "quarter",
        "question",
        "quick",
        "quit",
        "quiz",
        "quote",
        "rabbit",
        "raccoon",
        "race",
        "rack",
        "radar",
        "radio",
        "rail",
        "rain",
        "raise",
        "rally",
        "ramp",
        "ranch",
        "random",
        "range",
        "rapid",
        "rare",
        "rate",
        "rather",
        "raven",
        "raw",
        "razor",
        "ready",
        "real",
        "reason",
        "rebel",
        "rebuild",
        "recall",
        "receive",
        "recipe",
        "record",
        "recycle",
        "reduce",
        "reflect",
        "reform",
        "refuse",
        "region",
        "regret",
        "regular",
        "reject",
        "relax",
        "release",
        "relief",
        "rely",
        "remain",
        "remember",
        "remind",
        "remove",
        "render",
        "renew",
        "rent",
        "reopen",
        "repair",
        "repeat",
        "replace",
        "report",
        "require",
        "rescue",
        "resemble",
        "resist",
        "resource",
        "response",
        "result",
        "retire",
        "retreat",
        "return",
        "reunion",
        "reveal",
        "review",
        "reward",
        "rhythm",
        "rib",
        "ribbon",
        "rice",
        "rich",
        "ride",
        "ridge",
        "rifle",
        "right",
        "rigid",
        "ring",
        "riot",
        "ripple",
        "risk",
        "ritual",
        "rival",
        "river",
        "road",
        "roast",
        "robot",
        "robust",
        "rocket",
        "romance",
        "roof",
        "rookie",
        "room",
        "rose",
        "rotate",
        "rough",
        "round",
        "route",
        "royal",
        "rubber",
        "rude",
        "rug",
        "rule",
        "run",
        "runway",
        "rural",
        "sad",
        "saddle",
        "sadness",
        "safe",
        "sail",
        "salad",
        "salmon",
        "salon",
        "salt",
        "salute",
        "same",
        "sample",
        "sand",
        "satisfy",
        "satoshi",
        "sauce",
        "sausage",
        "save",
        "say",
        "scale",
        "scan",
        "scare",
        "scatter",
        "scene",
        "scheme",
        "school",
        "science",
        "scissors",
        "scorpion",
        "scout",
        "scrap",
        "screen",
        "script",
        "scrub",
        "sea",
        "search",
        "season",
        "seat",
        "second",
        "secret",
        "section",
        "security",
        "seed",
        "seek",
        "segment",
        "select",
        "sell",
        "seminar",
        "senior",
        "sense",
        "sentence",
        "series",
        "service",
        "session",
        "settle",
        "setup",
        "seven",
        "shadow",
        "shaft",
        "shallow",
        "share",
        "shed",
        "shell",
        "sheriff",
        "shield",
        "shift",
        "shine",
        "ship",
        "shiver",
        "shock",
        "shoe",
        "shoot",
        "shop",
        "short",
        "shoulder",
        "shove",
        "shrimp",
        "shrug",
        "shuffle",
        "shy",
        "sibling",
        "sick",
        "side",
        "siege",
        "sight",
        "sign",
        "silent",
        "silk",
        "silly",
        "silver",
        "similar",
        "simple",
        "since",
        "sing",
        "siren",
        "sister",
        "situate",
        "six",
        "size",
        "skate",
        "sketch",
        "ski",
        "skill",
        "skin",
        "skirt",
        "skull",
        "slab",
        "slam",
        "sleep",
        "slender",
        "slice",
        "slide",
        "slight",
        "slim",
        "slogan",
        "slot",
        "slow",
        "slush",
        "small",
        "smart",
        "smile",
        "smoke",
        "smooth",
        "snack",
        "snake",
        "snap",
        "sniff",
        "snow",
        "soap",
        "soccer",
        "social",
        "sock",
        "soda",
        "soft",
        "solar",
        "soldier",
        "solid",
        "solution",
        "solve",
        "someone",
        "song",
        "soon",
        "sorry",
        "sort",
        "soul",
        "sound",
        "soup",
        "source",
        "south",
        "space",
        "spare",
        "spatial",
        "spawn",
        "speak",
        "special",
        "speed",
        "spell",
        "spend",
        "sphere",
        "spice",
        "spider",
        "spike",
        "spin",
        "spirit",
        "split",
        "spoil",
        "sponsor",
        "spoon",
        "sport",
        "spot",
        "spray",
        "spread",
        "spring",
        "spy",
        "square",
        "squeeze",
        "squirrel",
        "stable",
        "stadium",
        "staff",
        "stage",
        "stairs",
        "stamp",
        "stand",
        "start",
        "state",
        "stay",
        "steak",
        "steel",
        "stem",
        "step",
        "stereo",
        "stick",
        "still",
        "sting",
        "stock",
        "stomach",
        "stone",
        "stool",
        "story",
        "stove",
        "strategy",
        "street",
        "strike",
        "strong",
        "struggle",
        "student",
        "stuff",
        "stumble",
        "style",
        "subject",
        "submit",
        "subway",
        "success",
        "such",
        "sudden",
        "suffer",
        "sugar",
        "suggest",
        "suit",
        "summer",
        "sun",
        "sunny",
        "sunset",
        "super",
        "supply",
        "supreme",
        "sure",
        "surface",
        "surge",
        "surprise",
        "surround",
        "survey",
        "suspect",
        "sustain",
        "swallow",
        "swamp",
        "swap",
        "swarm",
        "swear",
        "sweet",
        "swift",
        "swim",
        "swing",
        "switch",
        "sword",
        "symbol",
        "symptom",
        "syrup",
        "system",
        "table",
        "tackle",
        "tag",
        "tail",
        "talent",
        "talk",
        "tank",
        "tape",
        "target",
        "task",
        "taste",
        "tattoo",
        "taxi",
        "teach",
        "team",
        "tell",
        "ten",
        "tenant",
        "tennis",
        "tent",
        "term",
        "test",
        "text",
        "thank",
        "that",
        "theme",
        "then",
        "theory",
        "there",
        "they",
        "thing",
        "this",
        "thought",
        "three",
        "thrive",
        "throw",
        "thumb",
        "thunder",
        "ticket",
        "tide",
        "tiger",
        "tilt",
        "timber",
        "time",
        "tiny",
        "tip",
        "tired",
        "tissue",
        "title",
        "toast",
        "tobacco",
        "today",
        "toddler",
        "toe",
        "together",
        "toilet",
        "token",
        "tomato",
        "tomorrow",
        "tone",
        "tongue",
        "tonight",
        "tool",
        "tooth",
        "top",
        "topic",
        "topple",
        "torch",
        "tornado",
        "tortoise",
        "toss",
        "total",
        "tourist",
        "toward",
        "tower",
        "town",
        "toy",
        "track",
        "trade",
        "traffic",
        "tragic",
        "train",
        "transfer",
        "trap",
        "trash",
        "travel",
        "tray",
        "treat",
        "tree",
        "trend",
        "trial",
        "tribe",
        "trick",
        "trigger",
        "trim",
        "trip",
        "trophy",
        "trouble",
        "truck",
        "true",
        "truly",
        "trumpet",
        "trust",
        "truth",
        "try",
        "tube",
        "tuition",
        "tumble",
        "tuna",
        "tunnel",
        "turkey",
        "turn",
        "turtle",
        "twelve",
        "twenty",
        "twice",
        "twin",
        "twist",
        "two",
        "type",
        "typical",
        "ugly",
        "umbrella",
        "unable",
        "unaware",
        "uncle",
        "uncover",
        "under",
        "undo",
        "unfair",
        "unfold",
        "unhappy",
        "uniform",
        "unique",
        "unit",
        "universe",
        "unknown",
        "unlock",
        "until",
        "unusual",
        "unveil",
        "update",
        "upgrade",
        "uphold",
        "upon",
        "upper",
        "upset",
        "urban",
        "urge",
        "usage",
        "use",
        "used",
        "useful",
        "useless",
        "usual",
        "utility",
        "vacant",
        "vacuum",
        "vague",
        "valid",
        "valley",
        "valve",
        "van",
        "vanish",
        "vapor",
        "various",
        "vast",
        "vault",
        "vehicle",
        "velvet",
        "vendor",
        "venture",
        "venue",
        "verb",
        "verify",
        "version",
        "very",
        "vessel",
        "veteran",
        "viable",
        "vibrant",
        "vicious",
        "victory",
        "video",
        "view",
        "village",
        "vintage",
        "violin",
        "virtual",
        "virus",
        "visa",
        "visit",
        "visual",
        "vital",
        "vivid",
        "vocal",
        "voice",
        "void",
        "volcano",
        "volume",
        "vote",
        "voyage",
        "wage",
        "wagon",
        "wait",
        "walk",
        "wall",
        "walnut",
        "want",
        "warfare",
        "warm",
        "warrior",
        "wash",
        "wasp",
        "waste",
        "water",
        "wave",
        "way",
        "wealth",
        "weapon",
        "wear",
        "weasel",
        "weather",
        "web",
        "wedding",
        "weekend",
        "weird",
        "welcome",
        "west",
        "wet",
        "whale",
        "what",
        "wheat",
        "wheel",
        "when",
        "where",
        "whip",
        "whisper",
        "wide",
        "width",
        "wife",
        "wild",
        "will",
        "win",
        "window",
        "wine",
        "wing",
        "wink",
        "winner",
        "winter",
        "wire",
        "wisdom",
        "wise",
        "wish",
        "witness",
        "wolf",
        "woman",
        "wonder",
        "wood",
        "wool",
        "word",
        "work",
        "world",
        "worry",
        "worth",
        "wrap",
        "wreck",
        "wrestle",
        "wrist",
        "write",
        "wrong",
        "yard",
        "year",
        "green",
        "you",
        "young",
        "youth",
        "zebra",
        "zero",
        "zone",
        "zoo",
      ];
      function smoothScrollToElement(container, target, duration = 300) {
        const start = container.scrollTop;

        // Get target position relative to the container
        const containerRect = container.getBoundingClientRect();
        const targetRect = target.getBoundingClientRect();

        const targetOffsetInContainer = targetRect.top - containerRect.top;
        const scrollTarget =
          start +
          targetOffsetInContainer -
          container.clientHeight / 2 +
          target.clientHeight / 2;

        const change = scrollTarget - start;
        const startTime = performance.now();

        function animateScroll(currentTime) {
          const elapsed = currentTime - startTime;
          const progress = Math.min(elapsed / duration, 1);
          container.scrollTop = start + change * easeInOutQuad(progress);

          if (progress < 1) {
            requestAnimationFrame(animateScroll);
          }
        }

        function easeInOutQuad(t) {
          return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
        }

        requestAnimationFrame(animateScroll);
      }

      let uniqueNumbers = [];

      const caption = document.createElement("p");
      const finalNote = document.createElement("p");
      nextBtn.addEventListener("click", () => {
        if (currentFrame === 0 && window.innerWidth > 768) {
          window.parent.postMessage("activateOverlay", "*");
        }
        if (currentFrame === 10 && window.innerWidth > 768) {
          window.parent.postMessage("deactivateOverlay", "*");
        }

        currentFrame++;
        renderFrame(currentFrame);
      });

      window.addEventListener("message", (event) => {
        if (event.data === "resetWalkthrough") {
          // Reset your variables and UI state
          frameIndex = 0;
          renderFrame(0);
        }
      });

      function renderFrame(frameNum) {
        nextBtn.style.display = "none";
        container.innerHTML = "";
        const ul = document.createElement("ul");
        const description = document.createElement("p");
        description.textContent = "";
        description.className = "text-dark mb-4";
        container.appendChild(description);

        switch (frameNum) {
          case 0:
            container.innerHTML +=
              '<div class="overlay-highlight frame-headline">Interactive Demo</div>';

            nextBtn.textContent = "GO!";
            nextBtn.style.display = "inline-block";
            nextBtn.style.width = "100px";
            nextBtn.style.height = "56px";

            caption.textContent = "";
            caption.className = "mt-3 bold bigger pt-3";
            container.appendChild(caption);

            let image = document.createElement("img");
            container.appendChild(image);

            // Conditionally set image based on screen width
            if (window.innerWidth >= 768) {
              image.src = "hw-wallet-horiz.png"; // Desktop version
              image.style.width = "480px";
              image.style.maxWidth = "480px";
            } else {
              image.src = "hw-wallet.png"; // Mobile/tablet version
              image.style.width = "85px";
              image.style.maxWidth = "80px";
            }

            image.style.marginBottom = "10px";
            // image.className = "throb-image";

            finalNote.className = "mt-4 text-dark bold bigger";
            finalNote.textContent = "Let's secure this wallet in 60 seconds";
            finalNote.style.paddingBottom = "20px";
            container.appendChild(finalNote);
            break;

          case 1:
            container.innerHTML +=
              //   '<p class="text-muted">[ Placeholder Frame 0 ]</p>';
              '<p class="text-dark mt-5 bold bigger">This is your wallet seed phrase</p>';
            const ulWrapper = document.createElement("div");
            ulWrapper.className = "max-400";

            ul.className = "list-group";

            seedWords.forEach((word, i) => {
              const li = document.createElement("li");
              li.className = "list-group-item bg-green text-light  fade-in";
              li.style.animationDelay = `${i * 0.1}s`;
              li.textContent = word;
              ul.appendChild(li);
            });
            ulWrapper.appendChild(ul);
            container.appendChild(ulWrapper);

            caption.className = "mt-3";
            container.appendChild(caption);
            setTimeout(() => {
              caption.textContent = "";
              nextBtn.textContent = "Next";

              nextBtn.style.display = "inline-block";
            }, 1500);

            break;

          case 2:
            const scrollDiv = document.createElement("div");
            scrollDiv.className = "scroll-box border-opacity-0 max-400";

            scrollDiv.style.margin = "0 auto"; // Center it
            scrollDiv.style.overflowX = "hidden"; // Ensure no horizontal scroll

            const table = document.createElement("table");
            table.className =
              "table  table-sm border-white border-opacity-0 border-0";
            // table.style.width = "600px";
            // table.style.tableLayout = "fixed";

            bip39Words.forEach((word, i) => {
              const row = table.insertRow();
              row.id = `row-${i}`;
              row.style.backgroundColor = i % 2 === 0 ? "#000" : "#000"; // Alternating gray shades

              const numCell = row.insertCell();
              const wordCell = row.insertCell();

              numCell.textContent = i + 1; // or "" for Frame 3 animation init
              wordCell.textContent = word;

              // Optional: make long words wrap or truncate nicely
              wordCell.style.whiteSpace = "nowrap";
              wordCell.style.overflow = "hidden";
              wordCell.style.textOverflow = "ellipsis";
            });

            scrollDiv.appendChild(table);

            caption.textContent =
              "Your seed words come from a much bigger list of 2048 words, shown below";
            caption.className = "mt-3";
            container.appendChild(caption);
            container.appendChild(scrollDiv);

            setTimeout(() => {
              scrollDiv.scrollTo({
                top: scrollDiv.scrollHeight / 2,
                behavior: "smooth",
              });
              setTimeout(() => {
                scrollDiv.scrollTo({
                  top: scrollDiv.scrollHeight,
                  behavior: "smooth",
                });
              }, 1);
            }, 1000);

            setTimeout(() => {
              finalNote.className = "mt-4 text-dark bold bigger";
              finalNote.textContent = "Next, we'll randomize this word list";
              container.appendChild(finalNote);
              setTimeout(() => {
                nextBtn.textContent = "OK";

                nextBtn.style.display = "inline-block";
              }, 400);
            }, 2000);

            break;

            // Fisher-Yates shuffle function
            function shuffle(array) {
              for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
              }
              return array;
            }

          case 3:
            caption.textContent = "Generating random seed codes...";
            caption.className = "pt-3";
            container.appendChild(caption);

            uniqueNumbers = shuffle(
              Array.from({ length: bip39Words.length }, (_, i) => i + 1)
            );

            const scrollDiv2 = document.createElement("div");
            scrollDiv2.className = "scroll-box border-opacity-0 max-600";
            scrollDiv2.style.overflowX = "hidden";

            const table2 = document.createElement("table");
            table2.className =
              "table bg-light table-sm border-white border-opacity-0 border-0";
            table2.style.width = "100%";
            table2.style.tableLayout = "fixed";

            let completed = 0;

            bip39Words.forEach((word, i) => {
              const row = table2.insertRow();
              row.id = `row-${i}`;
              row.style.backgroundColor = i % 2 === 0 ? "#000" : "#111";

              const numCell = row.insertCell();
              const wordCell = row.insertCell();

              numCell.textContent = "";
              wordCell.textContent = word;

              wordCell.style.whiteSpace = "nowrap";
              wordCell.style.overflow = "hidden";
              wordCell.style.textOverflow = "ellipsis";
              numCell.style.textAlign = "right";
              numCell.style.width = "80px";
            });

            scrollDiv2.appendChild(table2);
            container.appendChild(scrollDiv2);

            function checkIfDone() {
              if (completed === bip39Words.length) {
                finalNote.className = "mt-4 text-dark bold bigger";
                finalNote.textContent =
                  "All 2048 words are now re-mapped to new numbers";
                container.appendChild(finalNote);
                caption.textContent = " ";

                setTimeout(() => {
                  nextBtn.textContent = "OK";
                  nextBtn.style.display = "inline-block";
                }, 1000);
              }
            }

            setTimeout(() => {
              for (let i = 0; i < bip39Words.length; i++) {
                const row = document.getElementById(`row-${i}`);
                const numCell = row.cells[0];
                let counter = 0;
                const targetNum = uniqueNumbers[i];
                const interval = setInterval(() => {
                  numCell.textContent = Math.floor(Math.random() * 999);
                  counter++;
                  if (counter > 10) {
                    clearInterval(interval);
                    numCell.textContent = targetNum;
                    completed++;
                    checkIfDone();
                  }
                }, 30);
              }

              setTimeout(() => {
                scrollDiv2.scrollTo({
                  top: scrollDiv2.scrollHeight,
                  behavior: "smooth",
                });
              }, 1500);
            }, 500);
            break;

          case 4:
            caption.innerHTML = "This is called your<br>'Seed Map'";
            caption.className = "mt-5 bold bigger";
            container.appendChild(caption);
            const img = document.createElement("img");
            img.src = "pdf-locked.png";
            img.style.width = "100px";
            img.style.margin = "20px";

            mapCaption.textContent = "saved as a password protected PDF";
            container.appendChild(img);
            container.appendChild(mapCaption);
            setTimeout(() => {
              nextBtn.textContent = "Save";

              nextBtn.style.display = "inline-block";
            }, 600);
            break;

          default:
            container.innerHTML =
              '<p class="text-muted">Frame not yet implemented.</p>';
            break;
          case 5:
            caption.textContent =
              "Next we match your wallet seed words, one at a time... using the Seed Map";
            caption.className = "mt-3";
            container.appendChild(caption);

            // Top display area for current word and number

            displayArea.className = "mt-4 text-dark pos-left";
            displayArea.style.fontSize = "1.5rem";
            displayArea.style.minHeight = "3em";
            container.appendChild(displayArea);

            // Scrollable table from Frame 3 with random values
            const scrollDiv3 = document.createElement("div");
            scrollDiv3.className = "scroll-box border-opacity-0 max-600";
            scrollDiv3.style.overflowX = "hidden";

            const table3 = document.createElement("table");
            table3.className =
              "table bg-light table-sm border-white border-opacity-0 border-0";
            table3.style.width = "100%";
            table3.style.tableLayout = "fixed";

            bip39Words.forEach((word, i) => {
              const row = table3.insertRow();
              row.id = `map-row-${i}`;
              row.style.backgroundColor = i % 2 === 0 ? "#000" : "#111";

              const numCell = row.insertCell();
              const wordCell = row.insertCell();

              numCell.textContent = uniqueNumbers[i];
              wordCell.textContent = word;

              // style cells
              wordCell.style.whiteSpace = "nowrap";
              wordCell.style.overflow = "hidden";
              wordCell.style.textOverflow = "ellipsis";
              numCell.style.textAlign = "right";
              numCell.style.width = "80px";
            });

            scrollDiv3.appendChild(table3);
            container.appendChild(scrollDiv3);

            // Logic to step through each word
            let currentIndex = 0;

            function mapNextWord() {
              if (currentIndex >= seedWords.length) {
                // All done!
                scrollDiv3.classList.add("fade-out");
                setTimeout(() => {
                  scrollDiv3.remove();
                  displayArea.remove();
                  caption.textContent = "";
                  finalNote.className = "mt-4 text-dark bold bigger";
                  finalNote.textContent =
                    "We just turned your words into numbers";
                  container.appendChild(finalNote);

                  // Add summary table
                  const summaryTable = document.createElement("table");
                  summaryTable.className =
                    "table table-bordered table-sm table-light max-600 mt-4";
                  summaryTable.style.margin = "0 auto";
                  summaryTable.style.width = "100%";

                  const headerRow = summaryTable.insertRow();
                  headerRow.innerHTML = `<th>Word</th><th>New Mapped Number</th>`;

                  seedWords.forEach((word) => {
                    const index = bip39Words.indexOf(word);
                    const mapped = uniqueNumbers[index];
                    const row = summaryTable.insertRow();
                    row.innerHTML = `<td>${word}</td><td class="green">${mapped}</td>`;
                  });

                  container.appendChild(summaryTable);
                  container.appendChild(finalNote);
                  nextBtn.textContent = "OK";
                  nextBtn.style.display = "inline-block";
                }, 1000);
                return;
              }

              const word = seedWords[currentIndex];
              const originalIndex = bip39Words.indexOf(word);
              const row = document.getElementById(`map-row-${originalIndex}`);
              if (!row) return; // Skip this step if the row doesn't exist
              const numCell = row.cells[0];
              const wordCell = row.cells[1];
              const mappedNumber = uniqueNumbers[originalIndex];

              // Reset all rows
              // First, remove existing highlights
              table3
                .querySelectorAll(".highlight-row")
                .forEach((el) => el.classList.remove("highlight-row"));

              // Apply to current row
              row.classList.add("highlight-row");
              numCell.style.color = "green";
              numCell.style.fontWeight = "bold";

              // Scroll into view and highlight
              smoothScrollToElement(scrollDiv3, row, 200); // 200ms = faster scroll

              // Show word and number at top
              displayArea.innerHTML = `<strong>${word}</strong>  <span style="color:green;">${mappedNumber}</span>`;

              const speedFactor = currentIndex >= 3 ? 0.3 : 1; // halve the delay from word 5 onward

              setTimeout(() => {
                displayArea.style.opacity = 0;
                setTimeout(() => {
                  currentIndex++;
                  displayArea.style.opacity = 1;
                  mapNextWord();
                }, 400 * speedFactor);
              }, 2000 * speedFactor);
            }

            // Kick it off
            setTimeout(() => {
              mapNextWord();
            }, 800);

            break;

          case 6:
            caption.textContent = "The wallet is now protected";
            caption.className = "mt-3 bold bigger";
            container.appendChild(caption);

            const codeList = document.createElement("div");
            codeList.className = "mt-4 max-400 mx-auto";

            mappedSeed = seedWords.map((word) => {
              const index = bip39Words.indexOf(word);
              return uniqueNumbers[index];
            });

            mappedSeed.forEach((num, i) => {
              const item = document.createElement("div");
              item.textContent = `${num}`;
              item.className =
                "text-light border bg-green whiteborder-secondary rounded px-4 py-1 fs-6 mb-1";
              item.style.opacity = 0;

              codeList.appendChild(item);

              setTimeout(() => {
                item.classList.add("zoom-in");
              }, i * 300);
            });

            container.appendChild(codeList);

            setTimeout(() => {
              const finalMsg = document.createElement("p");
              finalMsg.className = "mt-4 text-dark";
              finalMsg.textContent =
                "Backup unlimited wallets, unlimited seed words.";
              container.appendChild(finalMsg);

              nextBtn.textContent = "Done";
              nextBtn.style.display = "inline-block";
            }, mappedSeed.length * 300 + 100);

            break;

          case 7:
            caption.innerHTML = "These are your<br>'Seed Codes'";
            caption.className = "mt-5 bold bigger";
            container.appendChild(caption);

            const mapImg = document.createElement("img");
            mapImg.src = "pdf-locked.png";

            mapImg.alt = "Seed Codes";
            mapImg.className = "img-fluid  mt-4 mb-4";
            container.appendChild(mapImg);
            mapImg.style.width = "100px";
            mapImg.style.margin = "20px";

            container.appendChild(mapCaption);
            mapCaption.textContent = "saved as a password protected PDF";
            nextBtn.textContent = "Save";
            nextBtn.style.display = "inline-block";
            break;
          case 8:
            caption.textContent = "Backed up to multiple USB drives ...";
            caption.className = "mt-3";
            container.appendChild(caption);

            const equationWrapper = document.createElement("div");
            equationWrapper.className =
              "d-flex justify-content-center align-items-center gap-3 flex-wrap mt-4 equation-wrapper";

            function createBlock(imgUrl, labelText) {
              const wrapper = document.createElement("div");
              wrapper.className = "text-center";
              wrapper.style.opacity = 0;

              if (imgUrl) {
                const img = document.createElement("img");
                img.src = imgUrl;
                img.alt = labelText;
                img.style.width = "60px";
                img.className = "mb-2";
                wrapper.appendChild(img);
              }

              const label = document.createElement("div");
              label.className = "text-dark";
              label.textContent = labelText;

              wrapper.appendChild(label);

              return wrapper;
            }

            const mapBlock = createBlock("pdf-locked.png", "Seed Map");
            const codesBlock = createBlock("pdf-locked.png", "Seed Codes");
            const lockBlock = createBlock("", "Secure Cold Storage");

            // Replace the image with emoji directly
            const emoji = document.createElement("div");
            emoji.textContent = "";
            emoji.style.fontSize = "3rem";
            emoji.className = "mb-2";
            lockBlock.insertBefore(emoji, lockBlock.firstChild);

            const plus1 = document.createElement("div");
            plus1.textContent = "+";
            plus1.className = "text-dark fs-3";

            const equal = document.createElement("div");
            equal.textContent = "=";
            equal.className = "text-dark fs-3";

            equationWrapper.appendChild(mapBlock);
            equationWrapper.appendChild(plus1);
            equationWrapper.appendChild(codesBlock);
            equationWrapper.appendChild(equal);
            equationWrapper.appendChild(lockBlock);

            container.appendChild(equationWrapper);

            // Animate in each block
            [mapBlock, codesBlock, lockBlock].forEach((el, i) => {
              setTimeout(() => {
                el.style.opacity = 1;
                el.classList.add("zoom-in");
              }, i * 500);
            });

            setTimeout(() => {
              finalNote.className = "pt-4 mt-4 text-dark";
              finalNote.textContent =
                "Ready to test your backup for 100% confidence?";
              container.appendChild(finalNote);

              nextBtn.textContent = "OK";
              nextBtn.style.display = "inline-block";
            }, 1800);

            break;
          case 9:
            displayArea.innerHTML = "";
            displayArea.remove();

            caption.textContent = "Open Seed Map File";
            caption.className = "mt-3";
            container.appendChild(caption);

            // Locked PDF icon
            const lockedImg = document.createElement("img");
            lockedImg.src = "pdf-locked.png";
            lockedImg.alt = "Locked Seed Map";
            lockedImg.style.width = "100px";
            lockedImg.className = "d-block mx-auto mt-4 mb-3 fade-in";
            container.appendChild(lockedImg);

            // Simulated password entry
            const passwordDisplay = document.createElement("p");
            passwordDisplay.className =
              "text-dark text-center fs-5 password-line";
            passwordDisplay.style.minHeight = "3em";
            passwordDisplay.innerHTML = `<span>Enter password:</span><br><span id="password-stars"></span>`;

            container.appendChild(passwordDisplay);

            let entered = "";
            const passwordLength = 13;

            function typeNextStar() {
              if (entered.length < passwordLength) {
                entered += "*";
                document.getElementById("password-stars").textContent = entered;

                setTimeout(typeNextStar, 100);
              } else {
                // Show unlocking message
                const unlockMsg = document.createElement("p");
                unlockMsg.className = "text-dark text-center fs-5 mt-2";
                unlockMsg.textContent = "Unlocking with password...";
                container.appendChild(unlockMsg);

                setTimeout(() => {
                  lockedImg.classList.add("fade-out");

                  const unlockedImg = document.createElement("img");
                  unlockedImg.src = "pdf-unlocked.png";
                  unlockedImg.alt = "Unlocked Seed Map";
                  unlockedImg.style.width = "100px";
                  unlockedImg.className = "d-block mx-auto my-3 fade-in";

                  // Replace lockedImg directly in the DOM
                  lockedImg.replaceWith(unlockedImg);

                  unlockMsg.textContent = "Seed Map successfully unlocked.";
                  const beginBtn = document.createElement("button");
                  beginBtn.textContent = "Begin Recovery";
                  beginBtn.className = "btn btn-primary mt-3 p-3";
                  beginBtn.onclick = () => {
                    beginBtn.remove();
                    startRecovery();
                  };
                  container.appendChild(beginBtn);
                }, 1200);

                function startRecovery() {
                  container.innerHTML = "";

                  caption.textContent = "";
                  caption.className = "mt-3";
                  container.appendChild(caption);

                  displayArea.className = "mt-4 text-dark text-center fs-5";
                  displayArea.style.minHeight = "3em";
                  container.appendChild(displayArea);

                  const seedList = document.createElement("div");
                  seedList.className = "mt-4 max-400 mx-auto";
                  container.appendChild(seedList);

                  mappedSeed = seedWords.map((word) => {
                    const index = bip39Words.indexOf(word);
                    return {
                      code: uniqueNumbers[index],
                      word,
                    };
                  });

                  let restoreIndex = 0;

                  function showRecoveryStep() {
                    if (restoreIndex >= mappedSeed.length) {
                      caption.textContent = "Wallet Successfully Recovered";
                      caption.className = "mt-3  fw-bold";

                      displayArea.remove();

                      if (!document.getElementById("restore-success")) {
                        const success = document.createElement("p");
                        success.id = "restore-success";
                        success.className = "text-dark mt-4 fs-5";
                        success.textContent = "";
                        container.appendChild(success);
                      }

                      nextBtn.textContent = "Hook Up Your Deadman Switch";
                      nextBtn.style.display = "inline-block";
                      nextBtn.style.width = "280px";
                      nextBtn.style.height = "46px";
                      return;
                    }

                    const { code, word } = mappedSeed[restoreIndex];

                    displayArea.innerHTML = `<strong>Looking up Seed Code:</strong> ${code}`;

                    setTimeout(() => {
                      displayArea.innerHTML += `<br/><em>Matching code to seed word...</em>`;

                      setTimeout(() => {
                        const flipCard = document.createElement("div");
                        flipCard.className = "flip-card";

                        const inner = document.createElement("div");
                        inner.className = "flip-card-inner";

                        const front = document.createElement("div");
                        front.className = "flip-card-front";
                        front.textContent = code;

                        const back = document.createElement("div");
                        back.className = "flip-card-back";
                        back.textContent = word;

                        inner.appendChild(front);
                        inner.appendChild(back);
                        flipCard.appendChild(inner);
                        seedList.appendChild(flipCard);

                        setTimeout(() => {
                          flipCard.classList.add("flipped");
                        }, 300);

                        setTimeout(() => {
                          restoreIndex++;
                          showRecoveryStep();
                        }, 800);
                      }, 150); // tighter gap after 'matching...' message
                    }, 200); // show matching... message quickly
                  }

                  setTimeout(showRecoveryStep, 500);
                }
              }
            }

            // Start password typing after short delay
            setTimeout(() => {
              typeNextStar();
            }, 1000);

            nextBtn.style.display = "none";
            break;

          case 10:
            caption.textContent = "What happens if you're gone?";
            caption.className = "mt-3 bold";
            container.appendChild(caption);

            const img10 = document.createElement("img");
            img10.src = "google-drive-icon.png";
            img10.alt = "Deadman Switch";
            img10.className = "d-block mx-auto my-4";
            img10.style.width = "100px";
            container.appendChild(img10);

            const p10 = document.createElement("p");
            p10.className = "text-dark text-center fs-5 px-3 mb-5";
            p10.innerHTML = `
    We set up a simple Deadman Switch  powered by Google.<br><br>
    Your trusted contacts can access your vault <strong>only</strong> if you become inactive.
  <br><br>You decide the release timing <strong>and</strong> the people you trust.`;
            container.appendChild(p10);

            nextBtn.textContent = "Next";
            nextBtn.style.display = "inline-block";
            break;

          case 11:
            caption.textContent = "What Google Sees";
            caption.className = "mt-3 bold";
            container.appendChild(caption);
            const img11 = document.createElement("img");
            img11.src = "pwicon.png";
            img11.alt = "Key";
            img11.className = "d-block mx-auto my-4";
            img11.style.width = "100px";
            container.appendChild(img11);
            const p11 = document.createElement("p");
            p11.className = "text-dark text-center fs-5 px-3";
            p11.innerHTML = `Only your <strong>password</strong> is stored online`;
            container.appendChild(p11);

            ul.className = "ul-frame-11 list-unstyled text-dark mx-auto mt-3";
            ul.style.maxWidth = "300px";
            ul.style.textAlign = "left";

            [
              " Encrypted by Google",
              " No mention of your wallet",
              " No access to your data",
            ].forEach((text) => {
              const li = document.createElement("li");
              li.textContent = text;
              ul.appendChild(li);
            });

            container.appendChild(ul);

            const footerText = document.createElement("p");
            const img12 = document.createElement("img");
            img12.src = "usb-locked-pdf.png";
            img12.alt = "Encrypted USB Drive";
            img12.className = "d-block mx-auto my-4";
            img12.style.width = "150px";
            container.appendChild(img12);
            footerText.className = "text-dark text-center fs-5 px-3 mt-5";
            footerText.innerHTML =
              "Your Seed Map & Seed Codes are securely split across multiple USB sticks. Encoded, Encrypted and in different physical locations. Read more below.";
            container.appendChild(footerText);

            nextBtn.textContent = "Got it!";
            nextBtn.style.display = "none";
            break;
        }
      }

      // Start at frame 0
      renderFrame(0);
    </script>
    <script>
      let devStatus;
      devStatus = false;
      // devStatus = true;
      if (devStatus) {
        const devContainer = document.createElement("div");
        devContainer.className =
          "position-fixed top-0 end-0 m-3 z-index-high bg-light p-2 rounded";

        const devLabel = document.createElement("label");
        devLabel.textContent = "Dev Mode: ";
        devLabel.className = "text-dark me-2";

        const devCheckbox = document.createElement("input");
        devCheckbox.type = "checkbox";
        devCheckbox.checked = true;
        devCheckbox.onchange = (e) => {
          if (e.target.checked) {
            document.body.classList.add("dev-mode");
          } else {
            document.body.classList.remove("dev-mode");
          }
        };

        devContainer.appendChild(devLabel);
        devContainer.appendChild(devCheckbox);
        document.body.appendChild(devContainer);

        // Skip to frame selector
        const devSkipContainer = document.createElement("div");
        devSkipContainer.className =
          "position-fixed top-0 end-0 m-3 z-index-high";

        const skipLabel = document.createElement("label");
        skipLabel.textContent = "Skip to frame:";
        skipLabel.className = "text-dark me-2";

        const skipSelect = document.createElement("select");
        skipSelect.className = "form-select d-inline-block w-auto";
        for (let i = 0; i <= 12; i++) {
          const option = document.createElement("option");
          option.value = i;
          option.textContent = `Frame ${i}`;
          skipSelect.appendChild(option);
        }
        skipSelect.onchange = (e) => {
          const frame = parseInt(e.target.value, 10);
          renderFrame(frame);
        };

        devSkipContainer.appendChild(skipLabel);
        devSkipContainer.appendChild(skipSelect);
        document.body.appendChild(devSkipContainer);
      }
    </script>
  </body>
</html>
